############################
# App
############################
VERSION=18

############################
# PostgreSQL Odoo 18
############################
PGDATA=/var/lib/postgresql/data/pgdata
POSTGRES_USER=odoo
POSTGRES_DB=dbodoo18
POSTGRES_PASSWORD_FILE=/run/secrets/postgres_password

DB_HOST=db
DB_PORT=5432

############################
# n8n
############################
N8N_USER=admin
N8N_PASSWORD_FILE=/run/secrets/n8n_password
N8N_ENCRYPTION_KEY_FILE=/run/secrets/n8n_encryption_key
N8N_RUNNERS_ENABLED=true
N8N_CORS_ALLOW_CREDENTIALS=true
N8N_CORS_ALLOW_ORIGIN=*

# Redis para n8n (mismo Redis que Odoo, DB diferente)
N8N_REDIS_HOST=redis
N8N_REDIS_PORT=6379
N8N_REDIS_PASSWORD=redis123
N8N_REDIS_DB_INDEX=1

# Cache configuration
N8N_CACHE_TYPE=redis
N8N_CACHE_REDIS_HOST=redis
N8N_CACHE_REDIS_PORT=6379
N8N_CACHE_REDIS_PASSWORD=redis123
N8N_CACHE_REDIS_DB=1

# Queue configuration
N8N_QUEUE_BULL_REDIS_HOST=redis
N8N_QUEUE_BULL_REDIS_PORT=6379
N8N_QUEUE_BULL_REDIS_PASSWORD=redis123
N8N_QUEUE_BULL_REDIS_DB=1

# Redis for workflow execution state
N8N_EDITOR_BASE_URL=https://n8n.jumpjibe.com
N8N_PUSH_BACKEND=websocket
N8N_PUSH_REDIS_HOST=redis
N8N_PUSH_REDIS_PORT=6379
N8N_PUSH_REDIS_PASSWORD=redis123
N8N_PUSH_REDIS_DB=1

# ⚠️ IMPORTANTE: Esta contraseña debe coincidir en todos los servicios
REDIS_PASSWORD=redis123

############################
# CHATWOOT
############################

CHATWOOT_API_TOKEN=chatwoot_api_token_1234567890

CHATWOOT_SECRET_KEY_BASE=99f4fa1f8fadd2125a12148ccf962c5d1ae16592a7da11ef9fc795f6a5c68e97737746c53ce0ecbc45d64235e349b879312d0a28431c81c2a59165d2d7077c54
CHATWOOT_RAILS_MASTER_KEY=${CHATWOOT_SECRET_KEY_BASE}

CHATWOOT_POSTGRES_USER=chatwoot
CHATWOOT_POSTGRES_PASSWORD=chatwoot123
CHATWOOT_POSTGRES_DB=chatwoot_production

CHATWOOT_POSTGRES_HOST=chatwoot-postgres
CHATWOOT_POSTGRES_PORT=5432
CHATWOOT_DATABASE_URL=postgresql://chatwoot:chatwoot123@chatwoot-postgres:5432/chatwoot_production

CHATWOOT_REDIS_PASSWORD=redis123
CHATWOOT_REDIS_URL=redis://:redis123@redis:6379

CHATWOOT_FRONTEND_URL=https://chatwoot.jumpjibe.com
CHATWOOT_RAILS_ENV=production
CHATWOOT_NODE_ENV=production
CHATWOOT_FORCE_SSL=false
CHATWOOT_DEFAULT_LOCALE=es
CHATWOOT_ENABLE_ACCOUNT_SIGNUP=true
CHATWOOT_INSTALLATION_ENV=docker
CHATWOOT_RAILS_HOST=https://chatwoot.jumpjibe.com

ACTIVE_STORAGE_SERVICE=local
FILE_ATTACHMENT_ENABLED="true"
ENABLE_FILE_PICKER="true"
MAXIMUM_FILE_SIZE="10485760"
ENABLED_FILE_TYPES="image/*,audio/*,video/*,text/*,application/pdf"
ASSET_HOST=https://chatwoot.jumpjibe.com
ACTIVE_STORAGE_HOST=https://chatwoot.jumpjibe.com
RAILS_STORAGE_HOST=https://chatwoot.jumpjibe.com
RAILS_STORAGE_SERVICE=local
RAILS_STORAGE_PATH=/app/storage

RAILS_LOG_TO_STDOUT="true"
RAILS_SERVE_STATIC_FILES="true"

ACTIVE_STORAGE_ROOT=/app/storage
ACTIVE_STORAGE_SERVICE_NAME=local
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_REGION=""
AWS_BUCKET=""

CHATWOOT_ACTIVE_STORAGE_DIR=./v18/chatwoot_active_storage