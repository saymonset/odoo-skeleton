############################
# App
############################
VERSION=18

############################
# PostgreSQL
############################
PGDATA=/var/lib/postgresql/data/pgdata
POSTGRES_USER=odoo
POSTGRES_DB=dbodoo18
POSTGRES_PASSWORD_FILE=/run/secrets/postgres_password

DB_HOST=db
DB_PORT=5432

############################
# n8n
############################
N8N_USER=admin
N8N_PASSWORD_FILE=/run/secrets/n8n_password
N8N_ENCRYPTION_KEY_FILE=/run/secrets/n8n_encryption_key
N8N_RUNNERS_ENABLED=true
N8N_CORS_ALLOW_CREDENTIALS=true
N8N_CORS_ALLOW_ORIGIN=*

############################
# Chatwoot - CONFIGURACIÓN SIMPLIFICADA y FUNCIONAL
############################

# Clave secreta
SECRET_KEY_BASE=99f4fa1f8fadd2125a12148ccf962c5d1ae16592a7da11ef9fc795f6a5c68e97737746c53ce0ecbc45d64235e349b879312d0a28431c81c2a59165d2d7077c54
RAILS_MASTER_KEY=${SECRET_KEY_BASE}

# PostgreSQL - usa 'postgres' que es el usuario por defecto
POSTGRES_USER=postgres
POSTGRES_PASSWORD=chatwoot123
POSTGRES_DB=chatwoot_production

# Variables de conexión para Chatwoot
DATABASE_HOST=db
DATABASE_PORT=5432
DATABASE_NAME=chatwoot_production
DATABASE_USERNAME=postgres        # ← USA POSTGRES
DATABASE_PASSWORD=chatwoot123     # ← MISMA CONTRASEÑA

# Redis
REDIS_PASSWORD=redis123
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379

# URLs y entorno
FRONTEND_URL=https://chatwoot.jumpjibe.com
RAILS_ENV=production
NODE_ENV=production
FORCE_SSL=false
DEFAULT_LOCALE=es
ENABLE_ACCOUNT_SIGNUP=true

# Puertos
CHATWOOT_WEB_PORT=3000
CHATWOOT_DB_PORT=5433
CHATWOOT_REDIS_PORT=6380

# Directorios
CHATWOOT_POSTGRES_DIR=./v18/chatwoot_pgdata
CHATWOOT_REDIS_DIR=./v18/chatwoot_redis_data
CHATWOOT_STORAGE_DIR=./v18/chatwoot_storage
CHATWOOT_LOGS_DIR=./v18/chatwoot_logs